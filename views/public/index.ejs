<% layout('layouts/boilerplate') -%> 
  <!-- <h1>All listings present here</h1> -->
   <style>
    #filters{
      display: flex;
      flex-wrap: wrap;
      align-items: center;

    }
    .filter{
      text-align: center;
      margin-top: 1rem;
      margin-right: 2rem;
    }
    .tax-info{
      display: none;
    }
    .tax-toggle{
      border: 1px solid black;
     border-radius: 8px;
     height: 3rem;
     padding: 1rem;
    margin: 5rem;
    }
   </style> 
<div id="filters">
  <div class="filter">
   <div><i class="fa-solid fa-fire"></i></div>
   <p>Trending</p>
  </div>
  <div class="filter">
   <div><i class="fa-solid fa-bed"></i></div> 
   <p>Rooms</p>
  </div>
   <div class="filter">
  <div><i class="fa-solid fa-mountain-city"></i></div>
  <p>Mountain</p>
  </div>
  <div class="filter">
  <div><i class="fa-regular fa-house"></i></div>
  <p>Iconic Citys</p>
  </div>
  <div class="filter">
  <div><i class="fa-solid fa-house"></i></div>
  <p>MostValuble</p>
  </div>
  <div class="filter">
  <div><i class="fa-solid fa-chess"></i></div>
  <p> Castels</p>
  </div>
 
  <div class="filter">
  <div><i class="fa-solid fa-person-swimming"></i></div>
  <p>Pool</p>
  </div>
  <div class="tax-toggle">
    <div class="form-check-reverse form-switch">
  <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
  <label class="form-check-label" for="switchCheckDefault">Display taxes</label>
</div>
</div>
</div>

  <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">
    <%for(let  listing of allListings) { %>
      <div class="col mb-4"> 
        <a href="/listings/<%=listing._id %>" class="text-decoration-none d-block">
          <div class="card cols listing-card"style="width: 18rem">
            <img src="<%= listing.image.url %>"
             class="card-img-top" alt="listing image"
              style="height:18rem">
            <div class="card-body">
              <h5 class="card-title text-dark">
                <%= listing.title %></h5>
              <p class="card-text text-dark">₹ <%= listing.price ? listing.price.toLocaleString("en-IN") : 'N/A' %>/night <b class="tax-info">&nbsp;+18%GST</b></p>
              <div class="d-flex justify-content-end">
                <span class="btn btn-sm btn-outline-primary">View Details</span>
              </div>
            </div>
          </div>
        </a>
      </div>
    <% } %>
  </div>
<script>
  let touchSwitch=document.getElementById("switchCheckDefault")
 touchSwitch.addEventListener("click",()=>{
let taxinfo=document.getElementsByClassName("tax-info");
for(info of taxinfo){
  if(info.style.display!="inline"){
    info.style.display="inline";
  }else{
    info.style.display="none";
  }
}
 });

</script>
